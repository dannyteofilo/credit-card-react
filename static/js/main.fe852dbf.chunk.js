(this["webpackJsonpcredit-card"]=this["webpackJsonpcredit-card"]||[]).push([[0],{63:function(e,t,r){},82:function(e,t,r){"use strict";r.r(t);var a=r(8),c=r.n(a),n=r(33),s=r(1),i=r(14),o=r.n(i),l=r(5),u=r(12),d=["01","02","03","04","05","06","07","08","09","10","11","12"],m=["2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032"],b=r(34),j=r.n(b),p=r(2),f=function(e){var t=e.card,r=e.typeCard,a=Object(s.useState)({value:null,type:null}),c=Object(u.a)(a,2),n=c[0],i=c[1];Object(s.useEffect)((function(){i(o(t))}),[t]),Object(s.useEffect)((function(){if(n){var e=n.type;r(e)}}),[n]);var o=function(e){var t=j()(e)[0];if(t){for(var r=[].concat(0,t.gaps,e.length),a=[],c=0;r[c]<e.length;c++){var n=r[c],s=Math.min(r[c+1],e.length);a.push(e.substring(n,s))}var i={type:t.type,size:t.code.size};return{value:a.join(" "),type:i}}return e};return Object(p.jsx)("div",{className:"mask",children:n?n.value:"#### #### #### ####"})},v={visa:{type:"visa"},mastercard:{type:"mastercard"},american_express:{type:"amex"},diners_club:{type:"dinersclub"},discover:{type:"discover"},jcb:{type:"jcb"},unionpay:{type:"unionpay"},maestro:{type:"visa"},elo:{type:"visa"},mir:{type:"visa"},hiper:{type:"visa"},hipercard:{type:"troy"}},h=r(13),O="form_request_start",x="form_request_ends",y="form_request_failed",g="form_request_success",N="form_request_fetch",_="form_request_reset",w=function(e){return{type:g,payload:e}},k=r(35),C=r.n(k);function E(e){var t=e.type,r=e.title,a=e.text,c=e.textButton,n=e.timer,s=e.html;C.a.fire({icon:t||"",title:r||"",text:a||"",html:s||"",confirmButtonText:c||"Aceptar",timer:n||3e3})}var S=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),r=t[0],a=t[1],c=Object(s.useState)({month:"1",year:"1"}),n=Object(u.a)(c,2),i=n[0],o=n[1],b=Object(s.useState)({type:"visa",size:3}),j=Object(u.a)(b,2),O=j[0],x=j[1],y=Object(h.c)((function(e){return e})),g=Object(h.b)(),_=y.form;Object(s.useEffect)((function(){var e=_.error,t=_.success,r=_.resp;e?(console.log(e),E({type:"error",title:"Error",text:e})):t&&(console.log("It's ok"),E({type:"success",text:r.message}))}),[_]);var w=function(e){var t=e.target,r=t.name,a=t.value,c=Object(l.a)({},i);c[r]=a,o(c)},k=i.month,C=i.year,S=i.cardNumber,q=i.cvv,T=i.cardName,D=O.type,P=O.size;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsxs)("div",{className:"card-item ".concat(r?"active":""),children:[!r&&Object(p.jsxs)("div",{className:"front flex-column",children:[Object(p.jsxs)("div",{className:"type",children:[Object(p.jsx)("img",{className:"chip",src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png",alt:""}),Object(p.jsx)("img",{className:"name",src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/".concat(D,".png"),alt:""})]}),Object(p.jsx)(f,{card:S,typeCard:function(e){!function(e){if(e){var t=e.type,r=e.size,a=t.replace("-","_"),c={type:v[a].type,size:r};x(c)}}(e)}}),Object(p.jsxs)("div",{className:"holder flex-row",children:[Object(p.jsxs)("div",{className:"flex-column name",children:[Object(p.jsx)("label",{className:"holder-label",children:"Card Holder"}),Object(p.jsx)("label",{className:"holder-value",children:T||"FULL NAME"})]}),Object(p.jsxs)("div",{className:"flex-column",children:[Object(p.jsx)("label",{className:"expire-label",children:"Expires"}),Object(p.jsxs)("label",{className:"expire-value",children:["1"!==k?k:"MM","/","1"!==C?C.substr(2,2):"YY"]})]})]})]}),r&&Object(p.jsxs)("div",{className:"back",children:[Object(p.jsx)("div",{className:"band"}),Object(p.jsxs)("div",{className:"cvv-band",children:[Object(p.jsx)("label",{className:"label",children:"CVV"}),Object(p.jsx)("div",{className:"cvv-value",children:q||""}),Object(p.jsxs)("div",{className:"type-card",children:[" ",Object(p.jsx)("img",{className:"name",src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/".concat(D,".png"),alt:""})]})]})]})]}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=i.cardName,r=i.cardNumber,a=i.cvv,c=i.year,n=i.month,s={cardNumber:r,cardName:t,cvv:a,expiration:"".concat(n,"-").concat(c)};g(function(e){return{type:N,payload:e}}(s))},className:"form",autoComplete:"off",children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"label-form",children:"Card Number"}),Object(p.jsx)("input",{name:"cardNumber",type:"text",className:"form-control",value:S,onChange:function(e){return e.target.value.length<=16?w(e):null},onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"label-form",children:"Card Name"}),Object(p.jsx)("input",{type:"text",name:"cardName",value:T,className:"form-control",onChange:function(e){return w(e)},required:!0})]}),Object(p.jsxs)("div",{className:"row flex-row",children:[Object(p.jsxs)("div",{className:"form-group expiration",children:[Object(p.jsx)("label",{className:"label-form",children:"Expiration Date"}),Object(p.jsxs)("div",{className:"row flex-row",children:[Object(p.jsxs)("select",{name:"month",value:k,className:"form-control month",onChange:function(e){return w(e)},required:!0,children:[Object(p.jsx)("option",{value:"1",disabled:!0,children:"Month"}),d.map((function(e,t){return Object(p.jsx)("option",{value:e,children:e},t)}))]}),Object(p.jsxs)("select",{name:"year",value:C,className:"form-control year",onChange:function(e){return w(e)},required:!0,children:[Object(p.jsx)("option",{value:"1",disabled:!0,children:"Year"}),m.map((function(e,t){return Object(p.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(p.jsxs)("div",{className:"form-group cvv",children:[Object(p.jsx)("label",{className:"label-form",children:"CVV"}),Object(p.jsx)("input",{type:"text",name:"cvv",value:q,className:"form-control",onFocus:function(){a(!0)},onBlur:function(){a(!1)},onChange:function(e){return e.target.value.length<=P?w(e):null},onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},required:!0})]})]}),Object(p.jsx)("button",{type:"submit",className:"btn",children:"Submit"})]})]})})},q=(r(63),r(11)),T={requesting:!1,error:null,response:null,success:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,r=null;switch(t.type){case O:r=Object(l.a)(Object(l.a)({},e),{},{requesting:!0,error:!1,success:null});break;case g:r=Object(l.a)(Object(l.a)(Object(l.a)({},e),t.payload),{},{success:!0});break;case y:r=Object(l.a)(Object(l.a)(Object(l.a)({},e),t.payload),{},{success:!1});break;case x:r=Object(l.a)(Object(l.a)({},e),{},{requesting:!1,success:!1});break;case _:r=Object(l.a)({},T);break;default:r=e}return r},P=r(37),R=r(9),A=r(16),L=r(17),z=r(36),M=r.n(z),U=new(function(){function e(){Object(A.a)(this,e),this.axios=M.a.create()}return Object(L.a)(e,[{key:"request",value:function(e){return this.axios.request(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.axios.get(e,this.getConfig(t))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getConfig(r);return this.axios.post(e,t,a)}},{key:"getConfig",value:function(e){return(e=e?Object(l.a)({},e):{}).baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"/dannyteofilo/credit-card-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"https://api-credit-card.herokuapp.com/api",e}}]),e}()),V=new(function(){function e(){Object(A.a)(this,e)}return Object(L.a)(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U.post("/",e)}},{key:"test",value:function(){return U.get("/")}}]),e}()),B=c.a.mark(K),I=c.a.mark(F);function K(e){var t;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(R.d)({type:O,payload:{requesting:!0}});case 3:return r.next=5,Object(R.b)(V.create,e.payload);case 5:return t=r.sent,r.next=8,Object(R.d)(w(t.data));case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(R.d)((a={error:r.t0},{type:y,payload:a}));case 14:return r.prev=14,r.next=17,Object(R.d)({type:x,payload:{requesting:!0}});case 17:return r.finish(14);case 18:case"end":return r.stop()}var a}),B,null,[[0,10,14,18]])}function F(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.e)(N,K);case 2:case"end":return e.stop()}}),I)}var H=c.a.mark(W);function W(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([Object(R.c)(F)]);case 2:case"end":return e.stop()}}),H)}var Y="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.c,J=Object(q.b)({form:D}),X=null,G=function(){return new Promise((function(e,t){try{var r=Object(P.a)();X=Object(q.d)(J,Y(Object(q.a)(r))),r.run(W),setTimeout((function(){return e(X)}))}catch(a){t(a)}}))};var Q=function(){return Object(p.jsx)(h.a,{store:X,children:Object(p.jsx)(S,{})})};function Z(){return(Z=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Waiting for store"),e.next=3,G();case 3:console.log("Store was fully loaded"),o.a.render(Object(p.jsx)(Q,{}),document.getElementById("root")),console.log("Rendering");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Z.apply(this,arguments)}()}},[[82,1,2]]]);
//# sourceMappingURL=main.fe852dbf.chunk.js.map